<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Enable an aspect | @AspectJS</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="The AOP framework for Javascript and Typescript">
    
    <link rel="preload" href="/aspectjs/assets/css/0.styles.c2e936f8.css" as="style"><link rel="preload" href="/aspectjs/assets/js/app.2b8e5f1a.js" as="script"><link rel="preload" href="/aspectjs/assets/js/2.84936b19.js" as="script"><link rel="preload" href="/aspectjs/assets/js/4.ee345930.js" as="script"><link rel="preload" href="/aspectjs/assets/js/14.fa8694f2.js" as="script"><link rel="prefetch" href="/aspectjs/assets/js/10.24360801.js"><link rel="prefetch" href="/aspectjs/assets/js/11.f3c15ac1.js"><link rel="prefetch" href="/aspectjs/assets/js/12.ed87c6e6.js"><link rel="prefetch" href="/aspectjs/assets/js/13.2728b09f.js"><link rel="prefetch" href="/aspectjs/assets/js/15.f0234ebb.js"><link rel="prefetch" href="/aspectjs/assets/js/16.f9c3bf26.js"><link rel="prefetch" href="/aspectjs/assets/js/17.ec1bd17a.js"><link rel="prefetch" href="/aspectjs/assets/js/18.68637eeb.js"><link rel="prefetch" href="/aspectjs/assets/js/19.790c9c80.js"><link rel="prefetch" href="/aspectjs/assets/js/20.1e566ea6.js"><link rel="prefetch" href="/aspectjs/assets/js/21.d61a7696.js"><link rel="prefetch" href="/aspectjs/assets/js/22.005cf964.js"><link rel="prefetch" href="/aspectjs/assets/js/23.2bac5b52.js"><link rel="prefetch" href="/aspectjs/assets/js/24.a64ef899.js"><link rel="prefetch" href="/aspectjs/assets/js/25.738d1924.js"><link rel="prefetch" href="/aspectjs/assets/js/3.0f80b804.js"><link rel="prefetch" href="/aspectjs/assets/js/5.9f280477.js"><link rel="prefetch" href="/aspectjs/assets/js/6.8db32227.js"><link rel="prefetch" href="/aspectjs/assets/js/7.48842d66.js"><link rel="prefetch" href="/aspectjs/assets/js/8.94b34c7e.js"><link rel="prefetch" href="/aspectjs/assets/js/9.69626e90.js">
    <link rel="stylesheet" href="/aspectjs/assets/css/0.styles.c2e936f8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/aspectjs/" class="home-link router-link-active"><img src="/aspectjs/aspectjs.png" alt="@AspectJS" class="logo"> <span class="site-name can-hide">@AspectJS</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div id="github-corners"></div> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Guide</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/aspectjs/" aria-current="page" class="sidebar-link">Home</a></li><li><a href="/aspectjs/01.guide/" aria-current="page" class="sidebar-link">Abstract</a></li><li><a href="/aspectjs/01.guide/05.getting-started.html" class="sidebar-link">Getting started</a></li><li><a href="/aspectjs/01.guide/10.core-concepts.html" class="sidebar-link">Core concepts</a></li><li><a href="/aspectjs/01.guide/11.create-annotations.html" class="sidebar-link">Creating Annotations</a></li><li><a href="/aspectjs/01.guide/13.annotations-bundle.html" class="sidebar-link">AnnotationsBundle</a></li><li><a href="/aspectjs/01.guide/15.create-aspects.html" class="sidebar-link">Creating Aspects</a></li><li><a href="/aspectjs/01.guide/16-advice-contexts.html" class="sidebar-link">Advice Contexts</a></li><li><a href="/aspectjs/01.guide/17-advice-target.html" class="sidebar-link">AdviceTarget</a></li><li><a href="/aspectjs/01.guide/20.enable-aspects.html" aria-current="page" class="active sidebar-link">Enable an aspect</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/aspectjs/01.guide/20.enable-aspects.html#enable-an-aspect-2" class="sidebar-link">Enable an aspect</a></li><li class="sidebar-sub-header"><a href="/aspectjs/01.guide/20.enable-aspects.html#enable-a-profile" class="sidebar-link">Enable a profile</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Aspects</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="enable-an-aspect"><a href="#enable-an-aspect" class="header-anchor">#</a> Enable an aspect</h1> <h2 id="enable-an-aspect-2"><a href="#enable-an-aspect-2" class="header-anchor">#</a> Enable an aspect</h2> <p>Many aspects may be declared in your project, but they won't be used unless they are enabled.
This way, you can configure the behaviour of an annotation on the go,
based on your needs or the deployment target for example.</p> <p>To enable an aspect, you have to get a reference to the global <code>Weaver</code>:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">WEAVER_CONTEXT</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@aspectjs/core'</span><span class="token punctuation">;</span>

<span class="token constant">WEAVER_CONTEXT</span><span class="token punctuation">.</span><span class="token function">getWeaver</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token comment">// get the global weaver instance</span>
    <span class="token punctuation">.</span><span class="token function">enable</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyAspect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// enable the aspect</span>
</code></pre></div><div class="custom-block danger"><p><img src="/aspectjs/assets/img/danger.7e62c154.png" alt="danger"> You have to enable all aspects at the very beginning of your code,
especially before any reference to an annotation.
Once an annotation gets interpreted, the weaver configuration is sealed and attempting to enable or disable an aspect will throw an error.</p></div> <h2 id="enable-a-profile"><a href="#enable-a-profile" class="header-anchor">#</a> Enable a profile</h2> <p>Sometimes, several complementary aspects have to be enabled together, and they are part of a <code>WeaverProfile</code>.
Profiles are enabled or disabled the same way aspects do:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> WeaverProfile <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@aspectjs/core/commons'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">WEAVER_CONTEXT</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@aspectjs/core'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyAspectsProfile</span> <span class="token keyword">extends</span> <span class="token class-name">WeaverProfile</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">enable</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyAspectA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">MyAspectB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token constant">WEAVER_CONTEXT</span><span class="token punctuation">.</span><span class="token function">getWeaver</span><span class="token punctuation">(</span><span class="token punctuation">)</span>              <span class="token comment">// get the global weaver instance</span>
    <span class="token punctuation">.</span><span class="token function">enable</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyAspectsProfile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// enable the profile</span>
</code></pre></div><div class="custom-block warning"><p><img src="/aspectjs/assets/img/warning.c791c5a5.png" alt="warning"> The <code>WEAVER_CONTEXT</code> exposes a bunch of <code>registries</code>, <code>factories</code>
and other tools that are considered low-level, and won't be documented at the moment.</p></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/aspectjs/01.guide/17-advice-target.html" class="prev">
        AdviceTarget
      </a></span> <span class="next"><a href="/aspectjs/03.aspects/10.official-aspects/memo/">
        @Memo
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/aspectjs/assets/js/app.2b8e5f1a.js" defer></script><script src="/aspectjs/assets/js/2.84936b19.js" defer></script><script src="/aspectjs/assets/js/4.ee345930.js" defer></script><script src="/aspectjs/assets/js/14.fa8694f2.js" defer></script>
  </body>
</html>
